---
layout: post
title:  "Google x Apple 聯手推出新冠病毒追蹤方案"
date:   2020-04-16 -0800
---
上週五Google和蘋果公布合作計畫，雙方聯手推出利用手機藍芽以針對此次新冠病毒感染者追蹤的技術方案。利用電訊科技來追蹤個體以控制病毒蔓延的方案在亞洲多國已有實行，如中國大陸以已感染推定原則的健康碼，南韓由政府為主的電訊塔追蹤，或香港的電子手環等。但這些方案在相對重視個人私隱並且對政府信任度偏低的歐美推行起來恐怕有一定難度，假如追蹤方案的應用率達不到最少60%以上的話，反而有可能會達到反作用。所以這次推出的方案是由兩家高科技主導，完全把政府拒之以外，並且著重於數據匿名化和去中心化。

現在可知計畫主要分兩部實行：

1: 下個月兩家公司會公布API文檔，以供各相關單位開發第三方應用app。

2: 接下來幾個月內兩家公司會更新各自的手機OS，以提供用戶打開感染追蹤的功能。

### 應用場景
志明在公園裡遇到了春嬌，兩人並不相識。因為志明的安卓手機和春嬌的iPhone都安裝了追蹤新冠病毒的app，兩人的手機此時都在不停的透過低耗電藍芽發送每15分鐘更新一次的匿名ID。雖然兩人最終並沒有互換聯絡方式，但兩人的手機卻都把對方的匿名ID記錄下來了。

幾天後，志明不幸的被確診感染了新冠病毒。志明主動利用app上報，並同意把手機上過去兩週所用來生成匿名ID的密鑰部件上傳。同時春嬌的手機每天都在下載其他人上傳的紀錄，並和自己過去兩週所紀錄下來的匿名ID做比對。當在紀錄裡發現有吻合的匿名ID時，app馬上通知春嬌她可能曾接觸過感染者，並提供相關有用信息。
![]({{site.url}}/images/covid-19-tracking-1.jpg)
![]({{site.url}}/images/covid-19-tracking-2.jpg)

### 技术要点
除非是採取群體免疫的方法，要把病毒蔓延徹底控制下來的話，必須採取高效的檢測追蹤隔離方法。在幾乎每人都隨身攜帶手機的社會裡，最直接簡單就是利用手機來做追蹤硬體。這架構裡有幾點是比較有意思的：

Apple和Google提供的是底層的API，而上層的app則由相關組織各行提供。所以就算因不同用戶背景，譬如不同地方政府，而採用不同的app，其數據層還是共享的。而以防惡作劇胡亂上報的責任，和何謂“自願”上報的定義，就看各個app的實際開發和實行了。

每台手機上都會先產生一個屬於自己的密鑰，然後每天會基於這個唯一的密鑰加密生成當日密鑰，而所發布的匿名ID則是根據這個當日密鑰而生成。當用戶確診後並同意上傳數據時，手機會把過去幾天所用過每一個當日密鑰的其中部件上傳。其他用戶手機則可以利用這些當日密鑰部件通過加密算法來校驗紀錄中的匿名ID是否吻合。

方案著重數據匿名化和去中心化，手機所發布的匿名ID每15分鐘自動更新，以防止被用來追蹤來源。而接觸紀錄也只會存在用戶手機上，不會上傳到中心數據庫。

### 实行难点
雖說是匿名化，但當被確診用戶上傳了自己的當日密鑰部件後，只要該手機繼續發布匿名ID，其他人還是可以透過藍芽追蹤到該用戶。

每個上傳/下載的密鑰為16bytes，而且一天一個，所以如果真的完全沒有位置信息的話，假如整體確診人數維持現有數量，每個手機每天都要下載上百MB的密鑰，這可能不太可行。所以比較可能的是還是會有某些地域上的位置信息被利用到。

雖說追蹤流程基本自動化，而兩家公司的手機應該覆蓋美國大部分的手機用戶，但先要條件是用戶必須要主動下載更新OS，打開追蹤功能，並下載有關單位所提供的app。當然也會有部分手機根本不會在覆蓋範圍內。

藍芽雖說是近距離信息傳輸方式，但畢竟和病毒的傳播範圍有差。譬如因為大樓裡上下樓層相隔的藍芽設施而導致的false positive，或者是透過感染者所接觸過的表面而感染的false negative等場景。

現在大家最關心的都是如何可以有效控制和防止疫情曠散，當然也希望可以儘量減少犧牲個人隱私和自由。有得必有失，世界上不存在完美或完全通用的技術方案，只有按照不同的場景和需求來選擇最適合的方法和計畫。這次Google和蘋果所公布的計畫內容裡有很多有趣和創新的細節，其中也不乏和區塊鏈技術應用相關的想法。疫情最後還是會過去的，雖然現在還不確定疫情過後的世界會是什麼樣子，但我們也不妨想看看此方案中的一些技術在疫後可不可以有其他有趣創新的應用。